<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>_mike - On static sites</title>
        <link rel="stylesheet" type="text/css" href="../style.css" />
    </head>
    <body>
        <header>
            <a id="logo" href="../">
                <img src="../images/profile.png" height="32px" />
                _mike
            </a>
            <nav>
                <a href="../cv.pdf">CV</a>
                <a href="../about.html">About</a>
                <a href="../atom.xml">
                    <img class="inline-icon" alt="Feed" src="../images/fa-rss-solid.svg" />
                </a>
            </nav>
        </header>

        <article>
            <h1 class="page-title">On static sites</h1>

            Posted on <time>September  1, 2018</time>

<p>For the past few days I have been working almost exclusively on the site. Starting a new project is always exciting, and so I’m trying to take advantage of that initial momentum as much as possible before it inevitably dies off.</p>
<p>Aside from the excitement for design and content of the blog, however, I also really enjoy using the technology that is powering it. That being a <strong>static site generator</strong>, specifically <a href="https://getpelican.com">Pelican</a>. So I wanted to share a bit about my setup and how it’s working out so far.</p>
<p>First of all, an overview. What a static site generator (or SSG) like Pelican does, is essentially very simple: It takes a directory full of content and a directory of templates and combines the two to create a site as just a flat directory of static files. That can then be deployed on any kind of host you want, from Amazon S3 to a raspberry pi, to a static-site-focused service like <a href="https://netlify.com">Netlify</a> (what this site is using). The final site needs no database or server-side rendering, it’s just served as-is to the user. Good old static HTML/CSS/JS.</p>
<p>While this might sound somewhat limiting, it’s actually more than enough for most websites — and definitely for a blog. Anything you might have wanted to do using, for example, Wordpress you can probably do either at build time using the SSG or using client-side JavaScript: Inserting common features between pages (e.g. a sidebar), minifying CSS, transpiling to JS, are all easy-to-trivial. Anything more dynamic that you might think you need a backend for, you can probably achieve using either an external service (e.g. <a href="https://disqus.com">Disqus</a> for the comments and reactions below), an AWS Lambda function (which Netlify manages for you), or just plain old JavaScript.</p>
<h2 id="pelican">Pelican</h2>
<p>So, on to the specifics of my setup. As I said, I’m using a python-based SSG called <a href="https://getpelican.com">Pelican</a>. Pelican uses Jinja 2 for its templates which you should be familiar with if you’ve ever used Flask. Building is handled through the <code>pelican</code> command and a python-based config file (<code>pelicanconf.py</code>). Pelican also provides a utility called <code>pelican-quickstart</code> to generate the initial skeleton for the project.</p>
<p>With that said, the file structure for this blog looks like this:</p>
<figure>
<img src="../images/blog_file_structure.png" alt /><figcaption>File structure for the blog</figcaption>
</figure>
<ul>
<li><code>content/</code> contains all of the actual, well, content of the site. That includes articles and images, as well as anything else I might want to upload to the site. If, say, I want to upload a PDF CV at some point, it goes in here.</li>
<li><code>themes/pelican-hyde/</code> contains the theme of the site. That includes templates, CSS, and any global JS I might want to include (e.g. Google analytics scripts). More on this later.</li>
<li><code>pelicanconf.py</code> is the config file for pelican. It contains site settings like my contact details, the name of the RSS feed, and much more. There is no actual dynamic python in there, it’s simply a bunch of variable declarations that are imported by pelican.</li>
<li><code>Pipfile</code> contains the blog’s dependencies to be managed by <a href="https://github.com/pypa/pipenv">pipenv</a>.</li>
<li>The <code>Makefile</code> contains targets for the common tasks that are run during development (build, clean, deploy, etc.).</li>
</ul>
<p>The theme I’m using is based on <a href="https://github.com/jvanz/pelican-hyde">pelican-hyde</a>. I’m maintaining a personal fork of it <a href="https://gitlab.com/michalis_pardalos/pelican-hyde">here</a>, — that is what you’re seeing right now. VSCode makes it very simple to manage both, both the base repo and the submodule show up in the version control tab and provides the same tools for both the root repo and the submodule.</p>
<h2 id="netlify">Netlify</h2>
<p>The second most important component in this blog would have to be <a href="https://netlify.com">Netlify</a>. At first it appears like a simple hosting provider with some extra bells and whistles. But it’s so much more than that. It collects CI, Hosting, DNS, HTTPS certificates under one service; and that is <strong>just</strong> the things I’m using for my simple blog! It also provides authentication, forms, management for AWS lambda functions, and so much more.</p>
<p>All I had to do on netlify for hosting was login to my gitlab account, choose the blog repo, and provide the command to build the site. Netlify then builds the site whenever I push to gitlab. It even detected the dependencies from my <code>Pipfile</code> automatically! Then, I could transfer my domain to Netlify and it generated a let’s encrypt certificate with a single click.</p>
<p>I honestly can’t praise Netlify enough. While it might present issues at bigger scales or edge cases, for my humble blog, it is godsend.</p>
<h2 id="conclusion">Conclusion</h2>
<p>After the little effort I’ve spent setting this up, I can say it was a very successful project. The blog looks as good as I could hope for with the effort I’ve put in and making changes couldn’t be easier. While this is a very small project, I’m sure that static site generators are a much more powerful tool than a lot of people might think. Give one a try for your next project. It might surprise you.</p>

        </article>
        <footer>
            <span id="netlify-footer">
                Hosted on <a href="https://netlify.com">Netlify</a>
            </span>
            <span id="gitlab-footer">
                Source code on <a href="https://gitlab.com/michalis_pardalos/_mike">Gitlab</a>
            </span>
            <span id="hakyll-footer">
                Site proudly generated by
                <a href="http://jaspervdj.be/hakyll">Hakyll</a>
            </span>
            <span id="fontawesome-footer">
                This site uses icons from 
                <a href="https://fontawesome.com">FontAwesome</a> &mdash;
                <a href="https://fontawesome.com/license">License</a>
            </span>
        </footer>
    </body>
</html>
